import{r as a,j as s,L as l,Q as x}from"./index-672433fa.js";import{L as m}from"./Loader-ec350794.js";import{P as e,f as g,C as h}from"./Container-8f4057b4.js";import{T as f}from"./Title-d76e5d10.js";const j="_card_d65w9_1",y="_infoBox_d65w9_10",B="_pictureBox_d65w9_14",R="_picture_d65w9_14",v="_categoryWrap_d65w9_27",N="_category_d65w9_27",q="_priority_d65w9_45",w="_info_d65w9_10",T="_timetable_d65w9_84",W="_span_d65w9_97",L="_title_d65w9_105",b="_description_d65w9_113",E="_raised_d65w9_122",C="_infoBtn_d65w9_126",I="_catd_d65w9_149",i={card:j,infoBox:y,pictureBox:B,picture:R,categoryWrap:v,category:N,priority:q,info:w,timetable:T,span:W,title:L,description:b,raised:E,infoBtn:C,catd:I},p=({event:t})=>{const[r,n]=a.useState(!1),c=()=>{n(!r)};return s.jsxs("li",{className:i.card,children:[s.jsxs("div",{className:i.pictureBox,children:[s.jsxs("div",{className:i.categoryWrap,children:[s.jsx("div",{className:i.category,children:t.category}),s.jsx("div",{className:i.priority,"data-priority":t.priority,children:t.priority})]}),s.jsx("img",{src:t.picture,width:"272",height:"296",alt:t.title,className:i.picture})]}),s.jsxs("div",{className:`${i.infoBox} ${r?i.raised:""}`,onClick:c,children:[s.jsxs("div",{className:i.timetable,children:[s.jsxs("span",{className:i.span,children:[t.selectDate," at ",t.selectTime]}),s.jsx("span",{className:i.span,children:t.location})]}),s.jsxs("div",{className:i.info,children:[s.jsx("h2",{className:i.title,children:t.title}),s.jsxs("p",{className:i.description,children:[t.description," "]}),s.jsx(l,{to:`events/${t._id}`,className:i.infoBtn,children:"More info"})]})]})]})};p.propTypes={event:e.shape({_id:e.string.isRequired,title:e.string.isRequired,description:e.string.isRequired,selectTime:e.string.isRequired,selectDate:e.string.isRequired,location:e.string.isRequired,category:e.string.isRequired,picture:e.string.isRequired,priority:e.string.isRequired}).isRequired};const z="_eventsList_hzldm_1",P={eventsList:z},_=({events:t})=>s.jsx("div",{children:s.jsx("ul",{className:P.eventsList,children:t.map(r=>s.jsx(p,{event:r},r._id))})});_.propTypes={events:e.arrayOf(e.shape({_id:e.string.isRequired,title:e.string.isRequired,description:e.string.isRequired,selectTime:e.string.isRequired,selectDate:e.string.isRequired,location:e.string.isRequired,category:e.string.isRequired,picture:e.string.isRequired,priority:e.string.isRequired})).isRequired};const $="/assets/plus-2da6e3d5.svg",M="_navWrap_1uzba_1",k="_filterWrap_1uzba_18",D="_addButton_1uzba_32",S="_addButtonText_1uzba_55",o={navWrap:M,filterWrap:k,addButton:D,addButtonText:S},F=()=>s.jsx(s.Fragment,{children:s.jsx("div",{className:o.navWrap,children:s.jsxs("div",{className:o.filterWrap,children:[s.jsx("div",{children:s.jsxs(l,{to:"events/add",className:o.addButton,children:[s.jsx("img",{src:$}),s.jsx("span",{className:o.addButtonText,children:"Add new event"})]})}),s.jsx(f,{children:"My events"})]})})}),O=a.memo(()=>{const[t,r]=a.useState([]),[n,c]=a.useState(!1);a.useEffect(()=>{c(!0),u()},[]);const u=async()=>{try{const{data:d}=await g();r(d)}catch{x.error("Oops, something went wrong! Please try again later",{position:"top-right",autoClose:2e3})}finally{c(!1)}};return s.jsx(s.Fragment,{children:s.jsxs(h,{children:[s.jsx(F,{}),!n&&s.jsx(_,{events:t}),n&&s.jsx(m,{})]})})});O.displayName="MainPage";export{O as default};
