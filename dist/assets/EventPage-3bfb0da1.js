import{r as i,u as h,a as v,j as t,N as j}from"./index-ef36f1f4.js";import{b as p,f,Q as r,L as B,k as N,C as b}from"./Container-38d2d660.js";const k=async e=>{try{const{data:n}=await p.get(`/events/${e}`);return n.data.result}catch(n){console.log(n)}},w=async e=>{try{const{data:n}=await p.delete(`/events/${e}`);return n}catch(n){console.log(n)}},E="_title_1u645_1",D="_card_1u645_6",I="_pictureBox_1u645_24",L="_picture_1u645_24",C="_categoryWrap_1u645_35",P="_category_1u645_35",W="_priority_1u645_41",F="_location_1u645_42",S="_time_1u645_43",$="_infoBox_1u645_92",T="_info_1u645_92",H="_timetable_1u645_106",O="_description_1u645_122",Q="_deleteBtn_1u645_128",R="_infoBtn_1u645_149",s={title:E,card:D,pictureBox:I,picture:L,categoryWrap:C,category:P,priority:W,location:F,time:S,infoBox:$,info:T,timetable:H,description:O,deleteBtn:Q,infoBtn:R},q=()=>{const[e,n]=i.useState(null),[l,d]=i.useState(!1),{id:a}=h(),x=v();let _;e&&(_=f(e.selectDate)),i.useEffect(()=>{m(a)},[a]);const m=async c=>{d(!0);try{const o=await k(c);n(o)}catch{r.error("Oops, something went wrong! Please try again later",{position:"top-right",autoClose:2e3})}finally{d(!1)}},g=async c=>{try{await w(c),n(null),r.success("The event was successfully deleted ")}catch{r.error("Something went wrong, please try again")}},y=()=>{g(a),x("/")};return t.jsxs(t.Fragment,{children:[l&&t.jsx(B,{}),e&&!l&&t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:s.title,children:e.title}),t.jsxs("div",{className:s.card,children:[t.jsx("div",{className:s.pictureBox,children:t.jsx("img",{src:e.picture,width:"272",height:"296",alt:e.title,className:s.picture})}),t.jsxs("div",{className:s.info,children:[t.jsxs("p",{className:s.description,children:[e.description," "]}),t.jsx("div",{className:s.infoBox,children:t.jsxs("div",{className:s.categoryWrap,children:[t.jsx("div",{className:s.category,children:e.category}),t.jsx("div",{className:s.priority,"data-priority":e.priority,children:e.priority}),t.jsx("span",{className:s.location,children:e.location}),t.jsxs("span",{className:s.time,children:[_," at ",e.selectTime," a.m."]})]})}),t.jsx("button",{className:s.deleteBtn,type:"button",onClick:y,children:"Delete event"})]})]})]}),t.jsx(N,{})]})},z="/event-planner/assets/back-71db1193.svg",A="_button_container_fvxnp_1",G="_back_link_fvxnp_7",u={button_container:A,back_link:G},J=()=>t.jsx("div",{className:u.button_container,children:t.jsxs(j,{className:u.back_link,to:"/",children:[t.jsx("span",{children:t.jsx("img",{src:z,alt:"Back"})}),"Back"]})}),K=()=>t.jsx(t.Fragment,{children:t.jsxs(b,{children:[t.jsx(J,{}),t.jsx(q,{})]})});K.displayName="EventPage";export{K as default};
