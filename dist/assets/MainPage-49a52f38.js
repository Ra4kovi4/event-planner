import{P as e,r as c,j as t,L as h,Q as w}from"./index-c25f80cf.js";import{L as q}from"./Loader-212da8a2.js";import{f as S,C as I}from"./Container-2afa22b8.js";import{s as T,u as W,T as C}from"./Title-ece6476e.js";const D="_card_1aqv5_1",L="_infoBox_1aqv5_10",R="_pictureBox_1aqv5_14",k="_picture_1aqv5_14",b="_categoryWrap_1aqv5_27",A="_category_1aqv5_27",z="_priority_1aqv5_45",M="_info_1aqv5_10",E="_timetable_1aqv5_84",$="_span_1aqv5_97",P="_title_1aqv5_105",F="_description_1aqv5_113",O="_raised_1aqv5_122",Q="_infoBtn_1aqv5_126",U="_catd_1aqv5_149",r={card:D,infoBox:L,pictureBox:R,picture:k,categoryWrap:b,category:A,priority:z,info:M,timetable:E,span:$,title:P,description:F,raised:O,infoBtn:Q,catd:U},v=({event:s})=>{const[o,a]=c.useState(!1),l=()=>{a(!o)};return t.jsxs("li",{className:r.card,children:[t.jsxs("div",{className:r.pictureBox,children:[t.jsxs("div",{className:r.categoryWrap,children:[t.jsx("div",{className:r.category,children:s.category}),t.jsx("div",{className:r.priority,"data-priority":s.priority,children:s.priority})]}),t.jsx("img",{src:s.picture,width:"272",height:"296",alt:s.title,className:r.picture})]}),t.jsxs("div",{className:`${r.infoBox} ${o?r.raised:""}`,onClick:l,children:[t.jsxs("div",{className:r.timetable,children:[t.jsxs("span",{className:r.span,children:[s.selectDate," at ",s.selectTime]}),t.jsx("span",{className:r.span,children:s.location})]}),t.jsxs("div",{className:r.info,children:[t.jsx("h2",{className:r.title,children:s.title}),t.jsxs("p",{className:r.description,children:[s.description," "]}),t.jsx(h,{to:`events/${s._id}`,className:r.infoBtn,children:"More info"})]})]})]})};v.propTypes={event:e.shape({_id:e.string.isRequired,title:e.string.isRequired,description:e.string.isRequired,selectTime:e.string.isRequired,selectDate:e.string.isRequired,location:e.string.isRequired,category:e.string.isRequired,picture:e.string.isRequired,priority:e.string.isRequired}).isRequired};const G="_eventsList_hf85p_1",H={eventsList:G},B=({events:s})=>t.jsx("div",{children:t.jsx("ul",{className:H.eventsList,children:s.map(o=>t.jsx(v,{event:o},o._id))})});B.propTypes={events:e.arrayOf(e.shape({_id:e.string.isRequired,title:e.string.isRequired,description:e.string.isRequired,selectTime:e.string.isRequired,selectDate:e.string.isRequired,location:e.string.isRequired,category:e.string.isRequired,picture:e.string.isRequired,priority:e.string.isRequired})).isRequired};const J="/event-planner/assets/plus-2da6e3d5.svg",K="_navWrap_voudi_1",V="_navMenu_voudi_18",X="_filterWrap_voudi_35",Y="_addButton_voudi_49",Z="_addButtonText_voudi_72",tt="_container_voudi_83",g={navWrap:K,navMenu:V,filterWrap:X,addButton:Y,addButtonText:Z,container:tt},m="/event-planner/assets/filter-1460855c.svg",st="_categoryWrap_1pltz_1",et="_categoryButton_1pltz_10",ot="_categoryButtonTitle_1pltz_35",rt="_fakeCategoryButtonTitle_1pltz_46",nt="_categoryBtnIcon_1pltz_57",at="_categoryDropdown_1pltz_61",it="_categoryDropdownWrapper_1pltz_74",ct="_categoryDropdownList_1pltz_81",lt="_categoryItem_1pltz_87",i={categoryWrap:st,categoryButton:et,categoryButtonTitle:ot,fakeCategoryButtonTitle:rt,categoryBtnIcon:nt,categoryDropdown:at,categoryDropdownWrapper:it,categoryDropdownList:ct,categoryItem:lt},dt=["All","Art","Business","Music","Conference","Workshop","Party","Sport"],f=({onSelect:s})=>{const[o,a]=c.useState(!1),[l,p]=c.useState(""),_=()=>{a(!o)};return t.jsxs("div",{className:i.categoryWrap,children:[t.jsxs("button",{className:i.categoryButton,onClick:_,children:[t.jsx("span",{className:i.categoryButtonTitle,children:l||"Category"}),t.jsx("img",{className:i.categoryBtnIcon,src:m})]}),o&&t.jsxs("div",{className:i.categoryDropdown,children:[t.jsxs("div",{className:i.categoryDropdownWrapper,children:[t.jsx("button",{className:i.fakeCategoryButtonTitle,children:"Category"}),t.jsx("img",{className:i.categoryBtnIcon,src:m})]}),t.jsx("ul",{className:i.categoryDropdownList,children:dt.map(d=>t.jsx("li",{className:i.categoryItem,onClick:()=>{a(!1),p(d),s(d)},children:d},d))})]})]})};f.propTypes={onSelect:e.func};const x="/event-planner/assets/sort-9d2486a6.svg",pt="/event-planner/assets/sortArrow-a835a85a.svg",_t="_sortWrap_1tp1y_1",ut="_sortButton_1tp1y_7",gt="_sortButtonTitle_1tp1y_32",yt="_fakeSortButtonTitle_1tp1y_44",mt="_sortBtnIcon_1tp1y_54",xt="_sortDropdown_1tp1y_58",ht="_sortDropdownWrapper_1tp1y_71",vt="_sortDropdownList_1tp1y_78",Bt="_sortItem_1tp1y_84",ft="_sortSpan_1tp1y_99",jt="_sortArrowIcon_1tp1y_106",n={sortWrap:_t,sortButton:ut,sortButtonTitle:gt,fakeSortButtonTitle:yt,sortBtnIcon:mt,sortDropdown:xt,sortDropdownWrapper:ht,sortDropdownList:vt,sortItem:Bt,sortSpan:ft,sortArrowIcon:jt},Nt=()=>{const[s,o]=c.useState(!1),[a,l]=c.useState(""),p=()=>{o(!s)};return t.jsxs("div",{className:n.sortWrap,children:[t.jsxs("button",{className:n.sortButton,onClick:p,disabled:!0,children:[t.jsx("span",{className:n.sortButtonTitle,children:a||"Sort by"}),t.jsx("img",{className:n.sortBtnIcon,src:x})]}),s&&t.jsxs("div",{className:n.sortDropdown,children:[t.jsxs("div",{className:n.sortDropdownWrapper,children:[t.jsx("button",{className:n.fakeSortButtonTitle,children:"Sort by"}),t.jsx("img",{className:n.sortBtnIcon,src:x})]}),t.jsx("ul",{className:n.sortDropdownList,children:T.map((_,d)=>t.jsxs("li",{className:n.sortItem,onClick:()=>{o(!1),l(_)},children:[t.jsx("span",{className:n.sortSpan,children:_}),t.jsx("img",{className:n.sortArrowIcon,src:pt,alt:"sort arrow"})]},d))})]})]})},j=({onSelect:s})=>{const o=W("(max-width: 767px)",{defaultState:!1});return t.jsx(t.Fragment,{children:t.jsxs("div",{className:g.navWrap,children:[t.jsxs("div",{className:g.navMenu,children:[t.jsx(f,{onSelect:s}),t.jsx(Nt,{}),t.jsx("div",{className:g.addButtonWrap,children:t.jsxs(h,{to:"events/add",className:g.addButton,children:[t.jsx("img",{src:J}),t.jsx("span",{className:g.addButtonText,children:"Add new event"})]})})]}),!o&&t.jsx(C,{children:"My events"})]})})};j.propTypes={onSelect:e.func};const wt=c.memo(()=>{const[s,o]=c.useState([]),[a,l]=c.useState(!1),[p,_]=c.useState("");c.useEffect(()=>{l(!0),d()},[]);const d=async()=>{try{const{data:u}=await S();o(u)}catch{w.error("Oops, something went wrong! Please try again later",{position:"top-right",autoClose:2e3})}finally{l(!1)}},N=u=>{_(u)},y=p==="All"||!p?s:s.filter(u=>u.category===p);return t.jsx(t.Fragment,{children:t.jsxs(I,{children:[t.jsx(j,{onSelect:N}),y.length===0&&!a&&t.jsx("h3",{style:{fontFamily:"Poppins",fontSize:"36px",color:"red"},children:"Unfortunately we have not found any events matching your request"}),!a&&y.length!==0&&t.jsx(B,{events:y}),a&&t.jsx(q,{})]})})});wt.displayName="MainPage";export{wt as default};
