import{r as c,u as x,a as y,Q as r,j as t}from"./index-c43dac8a.js";import{a as h,C as g}from"./Container-85df2dc1.js";import{f}from"./fetchEventById-72bd908f.js";import{L as B}from"./Loader-ba591c23.js";import{B as j}from"./BackButton-8da6d0f8.js";const v=async s=>{try{const{data:n}=await h.delete(`/events/${s}`);return n}catch(n){console.log(n)}},N="_title_1m584_1",E="_card_1m584_6",b="_pictureBox_1m584_24",w="_picture_1m584_24",C="_categoryWrap_1m584_35",k="_category_1m584_35",I="_priority_1m584_41",L="_location_1m584_42",P="_time_1m584_43",W="_infoBox_1m584_92",D="_info_1m584_92",F="_timetable_1m584_106",S="_description_1m584_122",T="_deleteBtn_1m584_130",$="_infoBtn_1m584_151",H="_buttonContainer_1m584_155",O="_editBtn_1m584_160",e={title:N,card:E,pictureBox:b,picture:w,categoryWrap:C,category:k,priority:I,location:L,time:P,infoBox:W,info:D,timetable:F,description:S,deleteBtn:T,infoBtn:$,buttonContainer:H,editBtn:O},Q=()=>{const[s,n]=c.useState(null),[l,d]=c.useState(!1),{id:i}=x(),m=y();c.useEffect(()=>{_(i)},[i]);const _=async o=>{d(!0);try{const a=await f(o);n(a)}catch{r.error("Oops, something went wrong! Please try again later",{position:"top-right",autoClose:2e3})}finally{d(!1)}},p=async o=>{try{await v(o),n(null),r.success("The event was successfully deleted ")}catch{r.error("Something went wrong, please try again")}},u=()=>{p(i),m("/")};return t.jsxs(t.Fragment,{children:[l&&t.jsx(B,{}),s&&!l&&t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:e.title,children:s.title}),t.jsxs("div",{className:e.card,children:[t.jsx("div",{className:e.pictureBox,children:t.jsx("img",{src:s.picture,width:"272",height:"296",alt:s.title,className:e.picture})}),t.jsxs("div",{className:e.info,children:[t.jsxs("p",{className:e.description,children:[s.description," "]}),t.jsx("div",{className:e.infoBox,children:t.jsxs("div",{className:e.categoryWrap,children:[t.jsx("div",{className:e.category,children:s.category}),t.jsx("div",{className:e.priority,"data-priority":s.priority,children:s.priority}),t.jsx("span",{className:e.location,children:s.location}),t.jsxs("span",{className:e.time,children:[s.selectDate," at ",s.selectTime]})]})}),t.jsxs("div",{className:e.buttonContainer,children:[t.jsx("button",{className:e.editBtn,type:"button",onClick:()=>m(`/events/${s._id}/edit`),children:"Edit"}),t.jsx("button",{className:e.deleteBtn,type:"button",onClick:u,children:"Delete event"})]})]})]})]})]})},R=()=>t.jsx(t.Fragment,{children:t.jsxs(g,{children:[t.jsx(j,{}),t.jsx(Q,{})]})});R.displayName="EventPage";export{R as default};
