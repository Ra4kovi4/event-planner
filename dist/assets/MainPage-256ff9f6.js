import{P as e,r as i,j as t,L as f,Q as w}from"./index-a37a6f9a.js";import{L as S}from"./Loader-11872891.js";import{f as I,C as T}from"./Container-46991aba.js";import{s as W,u as q,T as C}from"./Title-30199bd6.js";const D="_card_1ocf7_1",k="_infoBox_1ocf7_17",L="_pictureBox_1ocf7_21",R="_picture_1ocf7_21",z="_categoryWrap_1ocf7_46",b="_category_1ocf7_46",A="_priority_1ocf7_65",M="_info_1ocf7_17",E="_timetable_1ocf7_104",$="_span_1ocf7_117",P="_title_1ocf7_125",F="_description_1ocf7_133",O="_raised_1ocf7_142",Q="_infoBtn_1ocf7_146",r={card:D,infoBox:k,pictureBox:L,picture:R,categoryWrap:z,category:b,priority:A,info:M,timetable:E,span:$,title:P,description:F,raised:O,infoBtn:Q},h=({event:s})=>{const[o,a]=i.useState(!1),l=()=>{a(!o)};return t.jsxs("li",{className:r.card,children:[t.jsxs("div",{className:r.pictureBox,children:[t.jsxs("div",{className:r.categoryWrap,children:[t.jsx("div",{className:r.category,children:s.category}),t.jsx("div",{className:r.priority,"data-priority":s.priority,children:s.priority})]}),t.jsx("img",{src:s.picture,alt:s.title,className:r.picture,loading:"lazy"})]}),t.jsxs("div",{className:`${r.infoBox} ${o?r.raised:""}`,onClick:l,children:[t.jsxs("div",{className:r.timetable,children:[t.jsxs("span",{className:r.span,children:[s.selectDate," at ",s.selectTime]}),t.jsx("span",{className:r.span,children:s.location})]}),t.jsxs("div",{className:r.info,children:[t.jsx("h2",{className:r.title,children:s.title}),t.jsxs("p",{className:r.description,children:[s.description," "]}),t.jsx(f,{to:`events/${s._id}`,className:r.infoBtn,children:"More info"})]})]})]})};h.propTypes={event:e.shape({_id:e.string.isRequired,title:e.string.isRequired,description:e.string.isRequired,selectTime:e.string.isRequired,selectDate:e.string.isRequired,location:e.string.isRequired,category:e.string.isRequired,picture:e.string.isRequired,priority:e.string.isRequired}).isRequired};const U="_eventsList_ysowj_1",G={eventsList:U},B=({events:s})=>t.jsx("div",{children:t.jsx("ul",{className:G.eventsList,children:s.map(o=>t.jsx(h,{event:o},o._id))})});B.propTypes={events:e.arrayOf(e.shape({_id:e.string.isRequired,title:e.string.isRequired,description:e.string.isRequired,selectTime:e.string.isRequired,selectDate:e.string.isRequired,location:e.string.isRequired,category:e.string.isRequired,picture:e.string.isRequired,priority:e.string.isRequired})).isRequired};const H="/assets/plus-2da6e3d5.svg",J="_navWrap_zqkgn_1",K="_navMenu_zqkgn_19",V="_filterWrap_zqkgn_36",X="_addButton_zqkgn_50",Y="_addButtonText_zqkgn_73",Z="_container_zqkgn_84",u={navWrap:J,navMenu:K,filterWrap:V,addButton:X,addButtonText:Y,container:Z},m="/assets/filter-1460855c.svg",tt="_categoryWrap_1pltz_1",st="_categoryButton_1pltz_10",et="_categoryButtonTitle_1pltz_35",ot="_fakeCategoryButtonTitle_1pltz_46",rt="_categoryBtnIcon_1pltz_57",nt="_categoryDropdown_1pltz_61",at="_categoryDropdownWrapper_1pltz_74",ct="_categoryDropdownList_1pltz_81",it="_categoryItem_1pltz_87",c={categoryWrap:tt,categoryButton:st,categoryButtonTitle:et,fakeCategoryButtonTitle:ot,categoryBtnIcon:rt,categoryDropdown:nt,categoryDropdownWrapper:at,categoryDropdownList:ct,categoryItem:it},lt=["All","Art","Business","Music","Conference","Workshop","Party","Sport"],j=({onSelect:s})=>{const[o,a]=i.useState(!1),[l,p]=i.useState(""),_=()=>{a(!o)};return t.jsxs("div",{className:c.categoryWrap,children:[t.jsxs("button",{className:c.categoryButton,onClick:_,children:[t.jsx("span",{className:c.categoryButtonTitle,children:l||"Category"}),t.jsx("img",{className:c.categoryBtnIcon,src:m})]}),o&&t.jsxs("div",{className:c.categoryDropdown,children:[t.jsxs("div",{className:c.categoryDropdownWrapper,children:[t.jsx("button",{className:c.fakeCategoryButtonTitle,children:"Category"}),t.jsx("img",{className:c.categoryBtnIcon,src:m})]}),t.jsx("ul",{className:c.categoryDropdownList,children:lt.map(d=>t.jsx("li",{className:c.categoryItem,onClick:()=>{a(!1),p(d),s(d)},children:d},d))})]})]})};j.propTypes={onSelect:e.func};const x="/assets/sort-9d2486a6.svg",dt="/assets/sortArrow-a835a85a.svg",pt="_sortWrap_1tp1y_1",_t="_sortButton_1tp1y_7",gt="_sortButtonTitle_1tp1y_32",ut="_fakeSortButtonTitle_1tp1y_44",yt="_sortBtnIcon_1tp1y_54",mt="_sortDropdown_1tp1y_58",xt="_sortDropdownWrapper_1tp1y_71",ft="_sortDropdownList_1tp1y_78",ht="_sortItem_1tp1y_84",Bt="_sortSpan_1tp1y_99",jt="_sortArrowIcon_1tp1y_106",n={sortWrap:pt,sortButton:_t,sortButtonTitle:gt,fakeSortButtonTitle:ut,sortBtnIcon:yt,sortDropdown:mt,sortDropdownWrapper:xt,sortDropdownList:ft,sortItem:ht,sortSpan:Bt,sortArrowIcon:jt},Nt=()=>{const[s,o]=i.useState(!1),[a,l]=i.useState(""),p=()=>{o(!s)};return t.jsxs("div",{className:n.sortWrap,children:[t.jsxs("button",{className:n.sortButton,onClick:p,disabled:!0,children:[t.jsx("span",{className:n.sortButtonTitle,children:a||"Sort by"}),t.jsx("img",{className:n.sortBtnIcon,src:x})]}),s&&t.jsxs("div",{className:n.sortDropdown,children:[t.jsxs("div",{className:n.sortDropdownWrapper,children:[t.jsx("button",{className:n.fakeSortButtonTitle,children:"Sort by"}),t.jsx("img",{className:n.sortBtnIcon,src:x})]}),t.jsx("ul",{className:n.sortDropdownList,children:W.map((_,d)=>t.jsxs("li",{className:n.sortItem,onClick:()=>{o(!1),l(_)},children:[t.jsx("span",{className:n.sortSpan,children:_}),t.jsx("img",{className:n.sortArrowIcon,src:dt,alt:"sort arrow"})]},d))})]})]})},N=({onSelect:s})=>{const o=q("(max-width: 767px)",{defaultState:!1});return t.jsx(t.Fragment,{children:t.jsxs("div",{className:u.navWrap,children:[t.jsxs("div",{className:u.navMenu,children:[t.jsx(j,{onSelect:s}),t.jsx(Nt,{}),t.jsx("div",{className:u.addButtonWrap,children:t.jsxs(f,{to:"events/add",className:u.addButton,children:[t.jsx("img",{src:H}),t.jsx("span",{className:u.addButtonText,children:"Add new event"})]})})]}),!o&&t.jsx(C,{children:"My events"})]})})};N.propTypes={onSelect:e.func};const vt=i.memo(()=>{const[s,o]=i.useState([]),[a,l]=i.useState(!1),[p,_]=i.useState("");i.useEffect(()=>{l(!0),d()},[]);const d=async()=>{try{const{data:g}=await I();o(g)}catch{w.error("Oops, something went wrong! Please try again later",{position:"top-right",autoClose:2e3})}finally{l(!1)}},v=g=>{_(g)},y=p==="All"||!p?s:s.filter(g=>g.category===p);return t.jsx(t.Fragment,{children:t.jsxs(T,{children:[t.jsx(N,{onSelect:v}),y.length===0&&!a&&t.jsx("h3",{style:{fontFamily:"Poppins",fontSize:"36px",color:"red"},children:"Unfortunately we have not found any events matching your request"}),!a&&y.length!==0&&t.jsx(B,{events:y}),a&&t.jsx(S,{})]})})});vt.displayName="MainPage";export{vt as default};
