import{r as a,j as s,L as _}from"./index-ef36f1f4.js";import{P as i,f as u,a as g,Q as x,C as m,L as f,k as y}from"./Container-38d2d660.js";const h="_card_ztao6_1",j="_pictureBox_ztao6_10",R="_picture_ztao6_10",q="_categoryWrap_ztao6_21",B="_category_ztao6_21",N="_priority_ztao6_39",z="_infoBox_ztao6_62",L="_info_ztao6_62",v="_timetable_ztao6_71",E="_title_ztao6_88",C="_description_ztao6_96",T="_raised_ztao6_104",b="_infoBtn_ztao6_108",t={card:h,pictureBox:j,picture:R,categoryWrap:q,category:B,priority:N,infoBox:z,info:L,timetable:v,title:E,description:C,raised:T,infoBtn:b},l=({event:e})=>{const[r,o]=a.useState(!1),n=()=>{o(!r)},c=u(e.selectDate);return s.jsxs("li",{className:t.card,children:[s.jsxs("div",{className:t.pictureBox,children:[s.jsxs("div",{className:t.categoryWrap,children:[s.jsx("div",{className:t.category,children:e.category}),s.jsx("div",{className:t.priority,"data-priority":e.priority,children:e.priority})]}),s.jsx("img",{src:e.picture,width:"272",height:"296",alt:e.title,className:t.picture})]}),s.jsxs("div",{className:`${t.infoBox} ${r?t.raised:""}`,onClick:n,children:[s.jsxs("div",{className:t.timetable,children:[s.jsxs("span",{children:[c," at ",e.selectTime," a.m."]}),s.jsx("span",{children:e.location})]}),s.jsxs("div",{className:t.info,children:[s.jsx("h2",{className:t.title,children:e.title}),s.jsxs("p",{className:t.description,children:[e.description," "]}),s.jsx(_,{to:`events/${e._id}`,className:t.infoBtn,children:"More info"})]})]})]})};l.propTypes={event:i.shape({_id:i.string.isRequired,title:i.string.isRequired,description:i.string.isRequired,selectTime:i.string.isRequired,selectDate:i.string.isRequired,location:i.string.isRequired,category:i.string.isRequired,picture:i.string.isRequired,priority:i.string.isRequired}).isRequired};const w="_eventsList_19b3c_1",D={eventsList:w},p=({events:e})=>s.jsx("div",{children:s.jsx("ul",{className:D.eventsList,children:e.map(r=>s.jsx(l,{event:r},r._id))})});p.propTypes={events:i.arrayOf(i.shape({_id:i.string.isRequired,title:i.string.isRequired,description:i.string.isRequired,selectTime:i.string.isRequired,selectDate:i.string.isRequired,location:i.string.isRequired,category:i.string.isRequired,picture:i.string.isRequired,priority:i.string.isRequired})).isRequired};const I=a.memo(()=>{const[e,r]=a.useState([]),[o,n]=a.useState(!1);a.useEffect(()=>{n(!0),c()},[]);const c=async()=>{try{const{data:d}=await g();r(d)}catch{x.error("Oops, something went wrong! Please try again later",{position:"top-right",autoClose:2e3})}finally{n(!1)}};return s.jsxs(s.Fragment,{children:[s.jsxs(m,{children:[o&&s.jsx(f,{}),!o&&s.jsx(p,{events:e})]}),s.jsx(y,{autoClose:2e3})]})});I.displayName="MainPage";export{I as default};
